<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<style>
    body {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    #myElement {
        width: 100%;
        background-color: grey;
        text-align: center;
    }
</style>

<body>

    <div id="myElement">
        <h1>Taratynova.photo</h1>
    </div>


    <script>

        // <!-- ""Получение данных о пользователе""

        // Реализуйте функцию getUserData, которая принимает идентификатор пользователя (ID) в качестве аргумента и использует fetch для получения данных о пользователе с заданным ID с удаленного сервера. Функция должна возвращать промис, который разрешается с данными о пользователе в виде объекта. Если пользователь с указанным ID не найден, промис должен быть отклонен с соответствующим сообщением об ошибке.

        // Подсказка, с последовательностью действий:
        // getUserData использует fetch для получения данных о пользователе с удаленного сервера. Если запрос успешен (с кодом 200), функция извлекает данные из ответа с помощью response.json() и возвращает объект с данными о пользователе. Если запрос неуспешен, функция отклоняет промис с сообщением об ошибке.

        function getUserData(id) {
            fetch(`https://jsonplaceholder.typicode.com/users`)
                .then((response) => {
                    if (!response.ok) {
                        throw new Error("Что-то пошло не так при получении данных")
                    }
                    return response.json();
                })
                .then((data) => {
                    let userFind = 0
                    data.forEach(element => {
                        if (element.id === id) {
                            console.log(`Пользователь с ID = ${id} найден:`)
                            console.log(`Name: ${element.name}`)
                            console.log(`UserName: ${element.username}`)
                            userFind = 1

                        }

                    });
                    if (userFind === 0) {
                        console.log(`Пользователь с ID = ${id} не найден!`)
                    }

                })
                .catch((error) => {
                    console.log("Возникла проблема с вашим fetch запросом: ", error.message);
                });
        }

        getUserData(4)
        getUserData(15)



        // ""Отправка данных на сервер""

        // Реализуйте функцию saveUserData, которая принимает объект с данными о пользователе в качестве аргумента и использует fetch для отправки этих данных на удаленный сервер для сохранения. Функция должна возвращать промис, который разрешается, если данные успешно отправлены, или отклоняется в случае ошибки.

        // *Подсказка *
        // // Пример использования функции
        // const user = {
        // name: 'John Smith',
        // age: 30,
        // email: 'john@example.com'
        // };

        // saveUserData(user)
        // .then(() => {
        // console.log('User data saved successfully');
        // })
        // .catch(error => {
        // console.log(error.message);
        // });

        // saveUserData использует fetch для отправки данных о пользователе на удаленный сервер для сохранения. Она отправляет POST-запрос на URL-адрес /users с указанием типа содержимого application/json и сериализует объект с данными о пользователе в JSON-строку с помощью JSON.stringify(). Если запрос успешен (с кодом 200), функция разрешает промис. Если запрос неуспешен, функция отклоняет промис с сообщени

        const user = {
            name: 'John Smith',
            age: 30,
            email: 'john@example.com'
        }


        function saveUserData(data) {
            fetch(`https://jsonplaceholder.typicode.com/users`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json;charset=utf-8'
                },
                body: JSON.stringify(user)
            })
                .then((response) => {
                    if (!response.ok) {
                        throw new Error("Что-то пошло не так при отправке данных");
                    }
                    return response.json();
                })
                .then((json) => console.log(json))
                .catch((error) => {
                    console.log("Возникла проблема с вашим fetch запросом: ", error.message);
                });

        }



        // function saveUserData(data) {
        //     fetch(`https://jsonplaceholder.typicode.com/users`, {
        //         method: 'POST',
        //         body: JSON.stringify(data),
        //         headers: {
        //             'Content-type': 'application/json; charset=UTF-8',
        //         },
        //     })
        //         .then((response) => response.json())
        //         .then((json) => console.log(json));
        // }

        saveUserData(user)




        // ""Изменение стиля элемента через заданное время""

        // Напишите функцию changeStyleDelayed, которая принимает идентификатор элемента и время задержки (в миллисекундах) в качестве аргументов. Функция должна изменить стиль элемента через указанное время.

        // // Пример использования функции
        // changeStyleDelayed('myElement', 2000); // Через 2 секунды изменяет стиль элемента с id 'myElement'" -->


        function changeStyleDelayed(element, delay) {
            let changeStyleEl = document.getElementById(element)
            setTimeout(() => {
                changeStyleEl.style.backgroundColor = 'white'

            }, delay)
        }

        changeStyleDelayed('myElement', 3000);
    </script>
</body>

</html>